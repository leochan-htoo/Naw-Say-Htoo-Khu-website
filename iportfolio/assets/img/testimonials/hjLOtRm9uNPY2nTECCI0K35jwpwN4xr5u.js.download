if (self.CavalryLogger) { CavalryLogger.start_js(["Ah\/pgFh"]); }

__d("getNodeForCharacterOffset",[],(function(a,b,c,d,e,f){"use strict";var g=3;function h(a){while(a&&a.firstChild)a=a.firstChild;return a}function i(a){while(a){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function a(a,b){a=h(a);var c=0,d;while(a){if(a.nodeType===g){d=c+a.textContent.length;if(c<=b&&d>=b)return{node:a,offset:b-c};c=d}a=h(i(a))}}e.exports=a}),null);
__d("getTextContentAccessor",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){!g&&b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g="textContent"in document.documentElement?"textContent":"innerText");return g}e.exports=a}),null);
__d("ReactDOMSelection",["getNodeForCharacterOffset","getTextContentAccessor"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){return a===c&&b===d}function a(a){var b=window.getSelection&&window.getSelection();if(!b||b.rangeCount===0)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(a){return null}b=g(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);b=b?0:h.toString().length;var i=h.cloneRange();i.selectNodeContents(a);i.setEnd(h.startContainer,h.startOffset);a=g(i.startContainer,i.startOffset,i.endContainer,i.endOffset);h=a?0:i.toString().length;a=h+b;i=document.createRange();i.setStart(c,d);i.setEnd(e,f);b=i.collapsed;return{start:b?a:h,end:b?h:a}}function c(a,c){if(!window.getSelection)return;var d=window.getSelection(),e=a[b("getTextContentAccessor")()].length,f=Math.min(c.start,e);c=c.end===void 0?f:Math.min(c.end,e);if(!d.extend&&f>c){e=c;c=f;f=e}e=b("getNodeForCharacterOffset")(a,f);a=b("getNodeForCharacterOffset")(a,c);if(e&&a){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(a.node,a.offset)):(g.setEnd(a.node,a.offset),d.addRange(g))}}d={getOffsets:a,setOffsets:c};e.exports=d}),null);
__d("getPlainTextFromCometUFIInputState",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.editorState.getCurrentContent().getPlainText();case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");default:return a}}g["default"]=a}),98);
__d("CometUFIProgressiveComposerInput.react",["CometPlaceholder.react","FBLogger","FocusRegion.react","Keys","Promise","ReactDOMSelection","SubscriptionsHandler","clearTimeout","deferredLoadComponent","emptyFunction","getPlainTextFromCometUFIInputState","ifRequireable","isSoftNewlineEvent","react","requireDeferred","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("CometUFIRichComposerInput.react").__setRef("CometUFIProgressiveComposerInput.react"),j=c("requireDeferred")("getEditorStateFromUFI2ComposerState").__setRef("CometUFIProgressiveComposerInput.react"),k=c("deferredLoadComponent")(i),l={disabledProxyInput:{cursor:"bnpdmtie"},emptyPlaceholder:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",textOverflow:"ltmttdrg",whiteSpace:"mshkm1ct"},proxyInput:{backgroundColor:"g5ia77u1",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",color:"oo9gr5id",height:"datstx6m",outline:"lzcic4wl",resize:"ieid39z1",wordBreak:"qv66sw1b",zIndex:"tkr6xdv7"},proxyInputPlaceholder:{bottom:"i09qtzwb",color:"m9osqain",end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",textOverflow:"ltmttdrg",top:"kr520xx4"},proxyInputPlaceholderForFocusedInput:{color:"pipptul6"},proxyInputWrapper:{height:"datstx6m",position:"l9j0dhe7"}};function m(a){a=a.innerText||"";a.replace(/(\r\n|\r|\n)/g,"")===""&&(a="");return a}function n(){return c("ifRequireable")("EditorState",function(a){var b=i.getModuleIfRequireable();if(b!=null){var c=j.getModuleIfRequireable();if(c!=null)return{CometUFIRichComposerInput:b,EditorState:a,getEditorStateFromUFI2ComposerState:c}}})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=!1,d.$3=null,d.$4=new(c("SubscriptionsHandler"))(),d.state={proxyInputHasFocus:!1,proxyIsInCompositionMode:!1},d.$7=function(a){d.setState({proxyIsInCompositionMode:!0})},d.$8=function(a){d.setState({proxyIsInCompositionMode:!1})},d.$9=function(a){d.$10(a.target)},d.$11=function(a){document.activeElement===d.$3&&(d.$1=d.$6(a)),d.$3=a,d.props.onInputRefUpdated&&d.props.onInputRefUpdated(a)},d.$12=function(a){a.keyCode===c("Keys").RETURN&&!c("isSoftNewlineEvent")(a)&&(a.preventDefault(),d.props.onCommit())},d.$13=function(a){d.$2=!0;var b=c("setTimeout")(function(){c("FBLogger")("ufi2").warn("_handleProxyMouseDown had no corresonding mouseup event for 30s.")},3e4);d.$4.addSubscriptions({remove:function(){c("clearTimeout")(b)}});var e=function(){var a=function(){c("clearTimeout")(b),d.$2=!1,d.$4.releaseOne(e),d.$3!=null&&d.$3===document.activeElement&&d.$5()};document.addEventListener("mouseup",a);return{remove:function(){document.removeEventListener("mouseup",a)}}}();d.$4.addSubscriptions(e)},d.$14=function(a){var b=d.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},d.$16=function(a){d.setState({proxyInputHasFocus:!1})},d.$17=function(a){var b=function(){d.$2===!1&&d.$5()},e=n();e==null?(i.loadImmediately(c("emptyFunction")),j.loadImmediately(function(){return b()})):b();d.setState({proxyInputHasFocus:!0});d.props.onFocus&&d.props.onFocus(a)},b)||babelHelpers.assertThisInitialized(d)}b.createEmptyComposerState=function(){var a=n();a=a==null?void 0:a.EditorState;return a!=null?{__type:"editor-state-based",editorState:a.createEmpty()}:{__type:"plain-text",selectionOffsets:null,text:""}};var e=b.prototype;e.$5=function(){var a=this;if(this.state.proxyIsInCompositionMode===!0||this.props.composerState.inputState.__type!=="plain-text")return;var b=n();if(b==null)return;this.props.onComposerStateChange(function(d){var e,f=d.inputState;if(f.__type!=="plain-text"){c("FBLogger")("ufi2").warn("We were asked to commit the text and selection state of the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",f.__type);return d}e=babelHelpers["extends"]({},d,{inputState:babelHelpers["extends"]({},f,{selectionOffsets:(e=(e=a.$1)!=null?e:a.$6())!=null?e:f.selectionOffsets})});return babelHelpers["extends"]({},d,{inputState:{__type:"editor-state-based",editorState:b.getEditorStateFromUFI2ComposerState(e)}})})};e.$10=function(a){var b=m(a);this.props.onComposerStateChange(function(a){var d=a.inputState;if(d.__type!=="plain-text"){c("FBLogger")("ufi2").warn("We were asked to handle an input event for the proxy input, but the current input state is of type `%s` when we expected it to be of type `plain-text`. Investigate why a reference to the proxy input existed when the input state was of this type.",d.__type);return a}return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{text:b})})})};e.$6=function(a){a===void 0&&(a=this.$3);return a!=null&&document.activeElement===a?d("ReactDOMSelection").getOffsets(a):null};e.$15=function(a){if(a.composerState.inputState.__type!=="plain-text")return;var b=this.$3;if(b){a=a.composerState.inputState;var e,f;switch(a.__type){case"plain-text":e=a.text;f=a.selectionOffsets;break;case"editor-state-based":default:e=a.editorState.getCurrentContent().getBlockMap().map(function(a){return a?a.getText():""}).join("\n");c("FBLogger")("ufi2").warn("Unimplemented: tried to update the UFI2 proxy input's selection using an `EditorState` but we have not yet implemented a function that maps from an `EditorState` to selection offsets.");break}f==null&&(f=document.activeElement===b?d("ReactDOMSelection").getOffsets(b):null);a=m(b);e!==a&&(b.textContent=e,f!=null&&(e===""?(b.innerText="\xa0",d("ReactDOMSelection").setOffsets(b,{end:1,start:1}),document.execCommand("delete",!1,null)):d("ReactDOMSelection").setOffsets(b,f)))}};e.componentDidMount=function(){var a=this,b=this.props.composerState.inputState;this.$3&&b.__type==="plain-text"&&this.$15(this.props);b=n();(b==null?void 0:b.CometUFIRichComposerInput)==null&&this.$4.addSubscriptions(i.onReady(function(b){a.props.composerState.inputState.__type==="editor-state-based"&&a.forceUpdate()}))};e.componentDidUpdate=function(){this.props.composerState.inputState.__type==="plain-text"&&this.$5(),this.$15(this.props)};e.componentWillUnmount=function(){this.$4.release()};e.execCommand=function(a){this.props.handleCommand&&(a.__type==="PrefillMention"&&(i.loadImmediately(c("emptyFunction")),this.$5()),this.props.handleCommand(a))};e.render=function(){var a=this.props,b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);var e=c("getPlainTextFromCometUFIInputState")(a.composerState.inputState).trim()!=="",f=a.depth?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment",g=h.jsx("div",{className:c("stylex")(b),onClick:a.onClick,role:"none",children:h.jsxs("div",{className:c("stylex")(l.proxyInputWrapper),children:[h.jsx("div",{className:c("stylex")(a.composerState.isLocked&&l.disabledProxyInput,l.proxyInput),contentEditable:a.composerState.isLocked===!1,"data-testid":void 0,onBlur:this.$16,onCompositionEnd:this.$8,onCompositionStart:this.$7,onFocus:this.$17,onInput:this.$9,onKeyDown:this.$12,onMouseDown:this.$13,onPaste:this.$14,ref:this.$11,role:"textbox",tabIndex:0}),e?null:h.jsx("div",{className:c("stylex")(l.proxyInputPlaceholder,this.state.proxyInputHasFocus&&l.proxyInputPlaceholderForFocusedInput),children:a.placeholder})]})});return h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:null,children:h.jsxs(c("CometPlaceholder.react"),{fallback:g,children:[h.jsx(o,{shouldSuspend:this.state.proxyIsInCompositionMode}),h.jsx(k,babelHelpers["extends"]({},a,{composerState:a.composerState,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onInputRefUpdated:a.onInputRefUpdated,placeholder:a.placeholder,placeholderClassName:c("stylex")(!e&&l.emptyPlaceholder),webDriverTestID:f+":rich-input",xstyle:b}))]})})};return b}(h.Component);function o(a){a=a.shouldSuspend;if(a)throw new(b("Promise"))(function(){});return null}g["default"]=a}),98);
__d("useDidUpdateEffect",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){var c=i(!1);h(function(){if(c.current===!1){c.current=!0;return}return a()},b)}g["default"]=a}),98);
__d("createCometUFIComposerPluginPipeline",["react","useDidUpdateEffect"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function j(a){return a.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}function a(a){return a.length===0?function(a){var b=a.render;a=babelHelpers.objectWithoutPropertiesLoose(a,["render"]);return h.jsx(b,babelHelpers["extends"]({},a))}:function(b){var d=b.render;b=babelHelpers.objectWithoutPropertiesLoose(b,["render"]);var e=i(function(){return j(a)(d)}),f=e[0],g=e[1];c("useDidUpdateEffect")(function(){g(function(){return j(a)(d)})},[d]);return h.jsx(f,babelHelpers["extends"]({},b))}}g["default"]=a}),98);
__d("getCommentDataFromCometUFIComposerState",["FBLogger","UnicodeUtils","cometUFICommentFormattingStyleForText","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.attachmentData,e=a.composerState,f=a.contentBlockToTextWithEntitiesInputMessageMappers,g=a.feedbackID;a=a.inputState;a=a.editorState;var h=[],i=[],j={},k=0,l=a.getCurrentContent();l.getBlockMap().forEach(function(a){var b="",e=0;a.findEntityRanges(c("emptyFunction").thatReturnsTrue,function(c,g){var h=f.some(function(f){f=f(a,l,c,g);var h=a.getText().slice(0,c),m=Math.max(0,h.length-d("UnicodeUtils").strlen(h));if(f!=null){var n=f.entitiesByID;h=f.message;n!=null&&Object.keys(n).forEach(function(a){j[a]=n[a]});b+=h.text;h.ranges&&i.push.apply(i,h.ranges.map(function(a){return a?babelHelpers["extends"]({},a,{offset:a.offset+k-m+e}):a}));e+=h.text.length-(g-c);return!0}return!1});h===!1&&(b+=a.getText().slice(c,g).replace("@[","@ ["))});k+=d("UnicodeUtils").strlen(b)+1;h.push(b)});a=h.join("\n");return a.trim()===""&&e.attachment==null?null:{commentData:{attachments:b,feedback_id:g,file_marker:e.fileMarker,formatting_style:c("cometUFICommentFormattingStyleForText")(a,e.formattingStyle),insights_point_json:e.insightsPoint,is_inline_vote_enabled_for_qna:e.shouldDisableReactionsOnOptimisticComment,message:{ranges:i,text:a},reply_comment_parent_fbid:(b=e.commentAssociatedWithReply)==null?void 0:b.id,reply_target_clicked:e.replyTargetClicked},entitiesByID:j,usedWritingHelpToCompose:e.usedWritingHelpToCompose===!0}}function i(a){var b=a.attachmentData,d=a.composerState,e=a.feedbackID;a=a.inputState;return{commentData:{attachments:b,feedback_id:e,formatting_style:c("cometUFICommentFormattingStyleForText")(a.text,d.formattingStyle),is_inline_vote_enabled_for_qna:d.shouldDisableReactionsOnOptimisticComment,message:{text:a.text},reply_comment_parent_fbid:(b=d.commentAssociatedWithReply)==null?void 0:b.id,reply_target_clicked:d.replyTargetClicked},entitiesByID:{},usedWritingHelpToCompose:d.usedWritingHelpToCompose===!0}}function a(a){var b=a.attachmentMappers,d=a.composerState;a=a.contentBlockToTextWithEntitiesInputMessageMappers;var e=d.attachment,f=d.feedbackID,g=d.inputState,j;e==null?j=null:e.__type==="ExistingAttachment"?j=[]:j=b.map(function(a){return a(e)}).filter(Boolean);switch(g.__type){case"plain-text":return i({attachmentData:j,composerState:d,feedbackID:f,inputState:g});case"editor-state-based":return h({attachmentData:j,composerState:d,contentBlockToTextWithEntitiesInputMessageMappers:a,feedbackID:f,inputState:g});case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");default:return g.__type}}g["default"]=a}),98);
__d("getWindowScrollPosition",[],(function(a,b,c,d,e,f){"use strict";function g(){var a;return document.documentElement||((a=document.body)==null?void 0:a.parentNode)||document.body}function a(){var a;return(a=(a=window.pageXOffset)!=null?a:(a=g())==null?void 0:a.scrollLeft)!=null?a:0}function b(){var a;return(a=(a=window.pageYOffset)!=null?a:(a=g())==null?void 0:a.scrollTop)!=null?a:0}f.getWindowXScrollPosition=a;f.getWindowYScrollPosition=b}),66);
__d("isCometUFIComposerStateEmpty",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.attachment;a=a.inputState;if(b!=null)return!1;switch(a.__type){case"editor-state-based":return!a.editorState.getCurrentContent().hasText();case"plain-text":return!(a.text&&a.text.trim().length);case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");default:return a.__type}}g["default"]=a}),98);
__d("setFocusOnCometUFIComposerInputState",["cr:81"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:81")}),98);
__d("CometUFIComposerInnerForDraftjs.react",["CometErrorBoundary.react","CometTrackingNodeProvider.react","CometUFICommentRow.react","CometUFIComposerActions.react","CometUFIComposerOnBeforeUnloader.react","CometUFIProgressiveComposerInput.react","FBLogger","Random","UFI2Config","UFICommonInteractionEvents","UFICommonInteractionLogger","UFIODSLogger","collectDataAttributes","cometUFICommentFormattingStyleForText","createCometUFIComposerPluginPipeline","getCommentDataFromCometUFIComposerState","getPlainTextFromCometUFIInputState","getWindowScrollPosition","gkx","ifRequireable","isCometUFIComposerStateEmpty","react","setFocusOnCometUFIComposerInputState","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={composerDenial:{backgroundColor:"r898ja9m",borderTop:"pmg7q2s5",borderEnd:"m2wu88kb",borderBottom:"hxpkjkow",borderStart:"czm2i3kx"},composerWrapperCondensed:{marginStart:"mo7jf2ay"},composerWrapperRegular:{marginStart:"kpexc5hc"},disabled:{cursor:"bnpdmtie"},disabledForm:{backgroundColor:"r898ja9m"},emptyInput:{color:"m9osqain",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5",":focus":{color:"r2ndix9n"}},focusPressable:{cursor:"o6r2urh6",position:"l9j0dhe7"},form:{backgroundColor:"b3i9ofy5",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",display:"j83agx80",justifyContent:"bkfpd7mw"},formWithDraftComment:{flexWrap:"lhclo0ds"},input:{cursor:"o6r2urh6",flexBasis:"mg4g778l",flexGrow:"buofh1pr",flexShrink:"g5gj957u",fontSize:"jq4qci2q",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq"},pluginPipelineWrapperCondensed:{paddingStart:"gm7ombtx"},pluginPipelineWrapperRegular:{paddingStart:"atb0y1z7"}},j=[],k,l=null;k=function(){if(l==null){var a=c("UFI2Config").composerInputSamplingRateDenominator||100;l=d("Random").coinflip(a)&&c("gkx")("678290")}return l};b=function(b){babelHelpers.inheritsLoose(e,b);function e(){var a,e;for(var f=arguments.length,g=new Array(f),l=0;l<f;l++)g[l]=arguments[l];return(a=e=b.call.apply(b,[this].concat(g))||this,e.state={CometUFIComposerPluginPipeline:c("createCometUFIComposerPluginPipeline")(e.props.initialPlugins||j),composerState:e.props.initialComposerState||{attachment:null,commentAssociatedWithReply:null,commentID:e.$1(),editor:null,feedbackID:e.$2(),formattingStyle:void 0,inputDecorators:[],inputState:c("CometUFIProgressiveComposerInput.react").createEmptyComposerState(),isLocked:!1}},e.$5=[],e.$6=[],e.$7=h.createRef(),e.$8=h.createRef(),e.$9=null,e.$3=null,e.$4=null,e.$10=function(a,b){var d=e.$9;return d?c("collectDataAttributes")(d,a,b):null},e.$12=function(){var a=e.props,b=a.actor,f=a.environment,g=a.feedLocation,h=a.onCommit,i=a.topLevelFeedbackID,j=a.useDefaultActor,k="client:"+d("UFICommonInteractionLogger").makeTrackingID(),l=b.id;if(l==null)throw c("unrecoverableViolation")("We can't commit a comment without knowing the ID of the current actor. Check why the GraphQL query for `viewer_current_actor.id` failed.","ufi2");var m=e.state.composerState.usedWritingHelpToCompose,n=function(a,b){b===void 0&&(b={}),h({actorID:l,clientID:k,commentData:a,entitiesByID:b,environment:f,feedLocation:g,feedbackSource:e.props.feedbackSource,focusCommentID:e.props.focusCommentID,getTrackingDataFn:e.$10,topLevelFeedbackID:i,useDefaultActor:j,usedWritingHelpToCompose:m,viewOption:e.props.viewOption})};a=e.state.composerState.inputState;if(a.__type==="plain-text"){if(a.text.trim()===""&&e.state.composerState.attachment==null)return;e.$11(k);b=e.state.composerState;var o=b.attachment,p=b.commentAssociatedWithReply;b=b.replyTargetClicked;n({attachments:o&&(o.__type==="ExistingAttachment"?[]:e.$5.map(function(a){return a(o)}).filter(Boolean)),feedback_id:e.$2(),formatting_style:c("cometUFICommentFormattingStyleForText")(a.text,e.state.composerState.formattingStyle),is_inline_vote_enabled_for_qna:e.state.composerState.shouldDisableReactionsOnOptimisticComment,message:{text:a.text},reply_comment_parent_fbid:p==null?void 0:p.id,reply_target_clicked:b});e.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""},replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})}else{e.$11(k);a=function(){var a=c("getCommentDataFromCometUFIComposerState")({attachmentMappers:e.$5,composerState:e.state.composerState,contentBlockToTextWithEntitiesInputMessageMappers:e.$6});if(a==null){e.setState(function(a){if(a.composerState.isLocked)return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})};else return a});e.props.commentAction==="EDIT"&&n(null,{});return}n(a.commentData,a.entitiesByID);e.setState(function(a){var b=a.composerState.inputState,d=b;switch(b.__type){case"editor-state-based":c("ifRequireable")("EditorState",function(a){d=babelHelpers["extends"]({},b,{editorState:a.moveFocusToEnd(a.createEmpty())})},function(){c("FBLogger")("ufi2").warn("Someone made a comment and we tried to clear the input. The `inputState` was `editor-state-based` but the `EditorState` module was not available on the client. This should be impossible, but here we are. The comment was made but the input was not cleared.")});break;case"plain-text":d=babelHelpers["extends"]({},b,{selectionOffsets:{end:0,start:0},text:""});break;case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");default:b}return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:void 0,inputState:d,isLocked:!1,replyTargetClicked:!1,usedWritingHelpToCompose:!1})}})};e.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}},a)}},e.$13=function(){k()&&(e.$3=d("UFICommonInteractionLogger").startInteraction(c("UFICommonInteractionEvents").COMET_UFI_COMPOSER_KEYPRESS_LATENCY));return"not-handled"},e.$14=function(a){e.setState(function(b){b=b.composerState;if(b.isLocked)return{};var c=a(b);if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})},e.$15=function(a){e.$9=a,e.props.onInputRefUpdated&&e.props.onInputRefUpdated(a)},e.$16=function(a){var b=e.state.composerState.inputState;switch(b.__type){case"editor-state-based":a.preventDefault();e.setState(function(a){var b=a.composerState.inputState;if(b.__type!=="editor-state-based"){c("FBLogger")("ufi2").warn("While handling a focus trigger click on an editor-state-based input the `inputState` type unexpectedly changed to `%s`.",b.__type);return null}var d=b.editorState,e=d.getSelection();if(e.getHasFocus()===!1){var f=e.set("hasFocus",!0);return c("ifRequireable")("EditorState",function(c){return{composerState:babelHelpers["extends"]({},a.composerState,{inputState:babelHelpers["extends"]({},b,{editorState:c.forceSelection(d,f)})})}},function(){return null})}else return null});break;case"plain-text":default:a.preventDefault(),document.activeElement!==e.$9&&e.focus()}},e.$17=function(a){a.target===e.$8.current&&e.$16(a)},e.$18=function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=e.$5).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;e.$5=e.$5.filter(function(a){return c.includes(a)===!1})}}},e.$19=function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=e.$6).push.apply(a,c);var f=!1;return{remove:function(){if(f)return;f=!0;e.$6=e.$6.filter(function(a){return c.includes(a)===!1})}}},e.isUnfinished=function(){if(e.props.initialComposerState){if(e.props.initialComposerState!==e.state.composerState)return!0}else if(!c("isCometUFIComposerStateEmpty")(e.state.composerState))return!0;return!1},e.$20=function(a){var b,d=a.actions;a=a.inputProps;var f=e.props,g=f.actor,j=f.depth,k=f.forceLargeAvatar,l=f.placeholder;f=f.xstyle;var m=a.composerState,n=a.isCommentDenied,o=c("getPlainTextFromCometUFIInputState")(m.inputState).trim()!=="";b=h.jsxs(h.Fragment,{children:[h.jsx(c("CometUFIProgressiveComposerInput.react"),{ariaDescribedBy:e.state.composerState.ariaDescribedBy,ariaLabel:e.props.ariaLabel,commentAction:e.props.commentAction,composerState:a.composerState,depth:j,handleBeforeInput:e.$13,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onClick:a.onClick,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:a.onFocus,onInputRefUpdated:a.onInputRefUpdated,placeholder:(b=a.placeholder)!=null?b:l,ref:e.$7,webDriverTestID:a.webDriverTestID,xstyle:[!o&&i.emptyInput,i.input]}),d?h.jsx(c("CometUFIComposerActions.react"),{children:d}):null]});if(c("gkx")("1805289")){l=j===0||k===!0?i.composerWrapperRegular:i.composerWrapperCondensed;return h.jsx("form",{"data-testid":void 0,onClick:e.$17,ref:e.$8,role:"presentation",children:h.jsx(c("CometUFICommentRow.react"),{actor:g,"data-testid":void 0,depth:j,forceLargeAvatar:k,isComposer:!0,onAvatarClick:e.$16,xstyle:[f,l],children:h.jsx("div",{className:c("stylex")(n===!0&&i.composerDenial,m.isLocked&&i.disabled,m.isLocked&&i.disabledForm,i.focusPressable,i.form,o&&i.formWithDraftComment),children:b})})})}return h.jsx("form",{className:c("stylex")(n===!0&&i.composerDenial,m.isLocked&&i.disabled,m.isLocked&&i.disabledForm,i.focusPressable,i.form,o&&i.formWithDraftComment),"data-testid":void 0,onClick:e.$17,ref:e.$8,role:"presentation",children:b})},a)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.componentDidMount=function(){var a=this.props,b=a.depth;a=a.feedbackSource;a===1&&(b===0?d("UFIODSLogger").bump("composer.newsfeed.toplevel.componentDidMount","comet"):d("UFIODSLogger").bump("composer.newsfeed.replies.componentDidMount","comet"))};f.componentDidUpdate=function(a,b){a=this.$3;a!=null&&b.composerState!==this.state.composerState&&(this.$3=null,d("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};f.componentWillUnmount=function(){a.cancelAnimationFrame(this.$4)};f.$1=function(){this.props.commentAction==="EDIT"&&this.props.commentID==null&&c("FBLogger")("ufi2").mustfix("A `CometUFIComposer` was mounted without a comment ID on EDIT");return this.props.commentID};f.$2=function(){if(this.props.feedback.id==null)throw c("FBLogger")("ufi2").mustfixThrow("A `CometUFIComposer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID.","ufi2");return this.props.feedback.id};f.$11=function(a){var b=this.props.commentAction,e=b==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_OPTIMISTIC_COMMENT_EDIT;d("UFICommonInteractionLogger").startInteraction(e,a+e);e=b==="ADD"?c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT:c("UFICommonInteractionEvents").COMET_UFI_PERSISTED_COMMENT_EDIT;d("UFICommonInteractionLogger").startInteraction(e,a+e)};f.execCommand=function(a){this.$7.current?this.$7.current.execCommand(a):c("FBLogger")("ufi2").warn("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};f.getElementToScrollTo=function(){return this.$9};f.focus=function(){var b=this.$9;if(!b)return;if(this.state.composerState.inputState.__type==="plain-text"&&!this.state.composerState.isLocked){var e,f=(e=this.props.nearestScrollableArea)==null?void 0:e.getDOMNode();if(f){var g=f.scrollTop;this.$4=a.requestAnimationFrame(function(){f.scrollTop=g})}else{var h=d("getWindowScrollPosition").getWindowXScrollPosition(),i=d("getWindowScrollPosition").getWindowYScrollPosition();this.$4=a.requestAnimationFrame(function(){window.scrollTo(h,i)})}b.focus({preventScroll:!0})}this.$14(function(a){return c("setFocusOnCometUFIComposerInputState")(a)})};f.render=function(){var a=this.props,b=a.actor,d=a.depth,e=a.forceLargeAvatar;a=a.xstyle;var f=this.state.CometUFIComposerPluginPipeline,g=d===0||e===!0;f=h.jsx(f,{actions:this.props.actions||j,initialComposerState:this.props.initialComposerState,inputProps:{commentAction:this.props.commentAction,composerState:this.state.composerState,depth:d,onBlur:(f=this.props.onBlur)!=null?f:void 0,onClick:this.$16,onCommit:this.$12,onComposerStateChange:this.$14,onFocus:(f=this.props.onFocus)!=null?f:void 0,onInputRefUpdated:this.$15},onInstallAttachmentMappers:this.$18,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$19,render:this.$20});g=c("gkx")("1805289")?h.jsx("div",{className:c("stylex")(!g&&i.pluginPipelineWrapperCondensed,g&&i.pluginPipelineWrapperRegular),children:f}):h.jsx(c("CometUFICommentRow.react"),{actor:b,"data-testid":void 0,depth:d,forceLargeAvatar:e,isComposer:!0,onAvatarClick:this.$16,xstyle:a,children:f});return h.jsx(c("CometErrorBoundary.react"),{context:{project:"ufi2"},children:h.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:34,children:[h.jsx(c("CometUFIComposerOnBeforeUnloader.react"),{isUnfinished:this.isUnfinished}),g]})})};return e}(h.Component);g["default"]=b}),98);
__d("setFocusOnCometUFIComposerInputStateForDraftjs",["FBLogger","ifRequireable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.inputState;switch(b.__type){case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");case"editor-state-based":return c("ifRequireable")("EditorState",function(c){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},b,{editorState:c.moveFocusToEnd(b.editorState)})})},function(){c("FBLogger")("ufi2").mustfix("Tried to set focus on a composer state whose inputState was of type `editor-state-based` but the `EditorState` module has not yet been defined. It should not be possible to produce a composer state of that type without the `EditorState` module being defined. Investigate why.");return a});case"plain-text":default:return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},b,{selectionOffsets:{end:b.text.length,start:b.text.length}})})}}g["default"]=a}),98);
__d("CometUFIInsertAvatarStickerComposerActionForDraftjs.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIAvatarPopoverForDraftjs.react").__setRef("CometUFIInsertAvatarStickerComposerActionForDraftjs.react"),m={popoverFallback:{minHeight:"o3i103jq"}};function a(a){var b=a.hasAvatar,e=a.onComposerStateChange;a=k(function(){return{hasAvatar:b,onComposerStateChange:e}},[b,e]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("1704745"),16),label:h._(/*FBT_CALL*/"Comment with an avatar sticker"/*FBT_CALL*/),popoverProps:a,popoverResource:l,tracePolicy:c("gkx")("1217157")?"gemini.avatarpicker":"comet.avatarpicker"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createCometUFIAvatarComposerPluginForDraftjs",["CometUFIInsertAvatarStickerComposerActionForDraftjs.react","createUFI2ComposerPlugin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=function(b){function d(d){var e=i(function(){return d.inputProps.composerState.attachment?d.actions:[].concat(d.actions,[h.jsx(c("CometUFIInsertAvatarStickerComposerActionForDraftjs.react"),{hasAvatar:a.hasAvatar,onComposerStateChange:d.inputProps.onComposerStateChange},"avatarComposerAction")])},[d.inputProps.composerState.attachment,d.actions,d.inputProps.onComposerStateChange]);return h.jsx(b,babelHelpers["extends"]({},d,{actions:e}))}d.displayName=d.name+" [from "+f.id+"]";return c("createUFI2ComposerPlugin")(d)};return b}g["default"]=a}),98);
__d("CometUFIInsertGIFComposerActionForDraftjs.react",["fbt","ix","CometPopoverLoadingState.react","CometUFILazyPopoverComposerAction.react","JSResourceForInteraction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useMemo,l=c("JSResourceForInteraction")("CometUFIGIFPickerPopover.stable.react").__setRef("CometUFIInsertGIFComposerActionForDraftjs.react"),m={popoverFallback:{minHeight:"if5txojj"}};function a(a){var b=a.onComposerStateChange;a=k(function(){return{onComposerStateChange:b}},[b]);return j.jsx(c("CometUFILazyPopoverComposerAction.react"),{fallback:j.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:m.popoverFallback}),icon:d("fbicon")._(i("687980"),16),label:h._(/*FBT_CALL*/"Comment with a GIF"/*FBT_CALL*/),popoverProps:a,popoverResource:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createCometUFIGIFComposerActionComposerPlugin",["fbt","CometImage.react","CometUFIComposerPreviewArea.react","FBLogger","SubscriptionsHandler","createUFI2ComposerPlugin","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={previewImage:{borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",display:"a8c37x1j",height:"idiwt2bm",maxWidth:"d2edcug0"},root:{flexGrow:"buofh1pr"}};function k(a){return a.attachment&&a.attachment.__type==="GIF"?a.attachment.data:null}function a(){return function(a){var b=function(d){babelHelpers.inheritsLoose(b,d);function b(){var a,b;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=b=d.call.apply(d,[this].concat(f))||this,b.$1=new(c("SubscriptionsHandler"))(),b.$2=function(){b.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})},a)||babelHelpers.assertThisInitialized(b)}var e=b.prototype;e.componentDidMount=function(){this.$1.engage(),this.$1.addSubscriptions(this.props.onInstallAttachmentMappers(function(a){return a.__type==="GIF"?{link:{external:{url:a.data.source.url}}}:null}))};e.componentDidUpdate=function(a){var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var d=k(b);if(a.attachment==null&&d&&k(a)==null){d=b.inputState;a=!1;switch(d.__type){case"outline-editor-state-based":throw c("FBLogger")("UFIOutlineComposer").mustfixThrow("Outline editor encountered within draftjs-only code. This should never happen.");case"plain-text":a=d.text.trim()!=="";break;case"editor-state-based":a=d.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:d.__type}if(a===!1){b=!c("gkx")("1796690");b&&this.props.inputProps.onCommit()}}};e.componentWillUnmount=function(){this.$1.release()};e.render=function(){var b=this.props.inputProps.composerState;b=k(b);return i.jsxs("div",{className:c("stylex")(j.root),children:[i.jsx(a,babelHelpers["extends"]({},this.props)),b?i.jsx(c("CometUFIComposerPreviewArea.react"),{label:h._(/*FBT_CALL*/"Remove GIF"/*FBT_CALL*/),onRemove:this.$2,children:i.jsx(c("CometImage.react"),{height:b.media.preview.height,src:b.media.preview.url,width:b.media.preview.width,xstyle:j.previewImage})}):null]})};return b}(i.PureComponent);return c("createUFI2ComposerPlugin")(b)}}g["default"]=a}),98);
__d("createCometUFIGIFComposerPluginForDraftjs",["CometUFIInsertGIFComposerActionForDraftjs.react","createCometUFIGIFComposerActionComposerPlugin","createUFI2ComposerPlugin","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=function(b){function d(d){var e=i(function(){return d.inputProps.composerState.attachment?d.actions:[].concat(d.actions,[h.jsx(c("CometUFIInsertGIFComposerActionForDraftjs.react"),{ftentidentifier:c("qex")._("1000665")?a.ftentidentifier:null,onComposerStateChange:d.inputProps.onComposerStateChange},"gifComposerAction")])},[d.inputProps.composerState.attachment,d.actions,d.inputProps.onComposerStateChange]);return h.jsx("div",{className:"buofh1pr",children:h.jsx(b,babelHelpers["extends"]({},d,{actions:e}))})}d.displayName=d.name+" [from "+f.id+"]";return c("createUFI2ComposerPlugin")(d)};return[b,c("createCometUFIGIFComposerActionComposerPlugin")()]}g["default"]=a}),98);
__d("createCometUFIGroupMentionsComposerPluginForDraftjs",["CometUFIComposerMentionsPluginProgressiveLoader.react","createUFI2ComposerPlugin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return function(b){function d(d){return h.jsx(c("CometUFIComposerMentionsPluginProgressiveLoader.react"),babelHelpers["extends"]({},d,{config:a,wrappedComponent:b}))}d.displayName=d.name+" [from "+f.id+"]";return c("createUFI2ComposerPlugin")(d)}}g["default"]=a}),98);
__d("createDeferredUpgradedUFI2GroupMentionsComposerPluginForDraftjs",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("createUpgradedUFI2GroupMentionsComposerPluginForDraftjs").__setRef("createDeferredUpgradedUFI2GroupMentionsComposerPluginForDraftjs");g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("KeyframesAsyncSession",["Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("FBKeyframesLoggedSession").__setRef("KeyframesAsyncSession");a=function(){function a(b){var d=this;this.$3=function(){var b=a.timestamp();c("promiseDone")(d.$1,function(a){return a.error(b)})};this.$1=h.load().then(function(a){return new a(b)});this.$2=this.$1.then(function(a){return a.getPerformanceLogIfEnabled()})}a.timestamp=function(){return{value:Date.now()}};var d=a.prototype;d.scheduleDecode=function(d,e){var f=d.then(function(){return a.timestamp()}),g=d.then(function(){return e}).then(function(){return a.timestamp()}),h=e.then(function(a){return a&&a.pluginsLoader!=null&&a.pluginsLoader.getPluginTable instanceof Function?a.pluginsLoader.getPluginTable():[]});d=b("Promise").all([this.$1,f]).then(function(a){var c=a[0];a=a[1];c=c.startDecode(a);return b("Promise").all([c,g,h])});c("promiseDone")(d,function(a){var b=a[0],c=a[1];a=a[2];return b(c,a)},this.$3)};d.maybeGetPerformanceLog=function(){return this.$2};return a}();g["default"]=a}),98);
__d("KeyframesDownloadTracker",["NetworkStatus","Promise","XHRRequest","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=250;function a(a){return new(b("Promise"))(function(b,d){var e=0,f,g=function f(){e++,new(c("XHRRequest"))(a).setMethod("GET").setResponseType("arraybuffer").setErrorHandler(function(a){var b=e<=h;b?c("setTimeout")(f,i):d(a)}).setAbortHandler(function(a){d(a)}).setResponseHandler(function(a){b(a)}).send()};if(c("NetworkStatus").isOnline())g();else{var j=function(a){a=a.online;a&&(g(),f.remove())};f=c("NetworkStatus").onChange(j)}})}g["default"]=a}),98);
__d("KeyframesDecodedAssetRequest",["KeyframesDownloadTracker","Promise","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("KeyframesAssetDecoder").__setRef("KeyframesDecodedAssetRequest"),i=c("requireDeferred")("KeyframesRenderer").__setRef("KeyframesDecodedAssetRequest");function j(a){return!a||typeof a!=="string"?b("Promise").reject("Request: invalid uri "+a):c("KeyframesDownloadTracker")(a)}a=function(){function a(a,d){var e=this;this.$1=!1;a=b("Promise").all([typeof a==="string"?j(a):a,h.load()]);this.$2=a.then(function(a){var b=a[0];a=a[1];return a.fromDocumentBytes(b)});d.scheduleDecode(a,this.$2);c("promiseDone")(this.$2,function(){return e.$1=!0},function(){return e.$1=!0})}var d=a.prototype;d.isDone=function(){return this.$1};d.getAsset=function(){return this.$2};d.getRenderer=function(a){return b("Promise").all([this.$2,i.load(),a.maybeGetPerformanceLog()]).then(function(a){var b=a[0],c=a[1];a=a[2];return new c(b,a)})};return a}();g["default"]=a}),98);
__d("Keyframes",["Bootloader","KeyframesAsyncSession","KeyframesDecodedAssetRequest","KeyframesDownloadTracker","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h={},i={};function j(a,d){if(!a||typeof a!=="string")return b("Promise").reject("Request: invalid uri "+a);var e=h[a];if(e)return e;e=c("KeyframesDownloadTracker")(a);d===!0&&(h[a]=e);return e}function a(a,b){b=new(c("KeyframesAsyncSession"))(b);i[a]||(i[a]=new(c("KeyframesDecodedAssetRequest"))(a,b));return i[a].getRenderer(b)}function d(a){i[a]||j(a,!0),c("Bootloader").loadModules(["KeyframesRenderer","FBKeyframesLoggedSession","KeyframesAssetDecoder"],function(){},"Keyframes")}function e(a,d){if(!i[a]){d=new(c("KeyframesAsyncSession"))(d);i[a]=new(c("KeyframesDecodedAssetRequest"))(a,d)}return b("Promise").all([i[a].getAsset()]).then(c("emptyFunction"))}function f(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getRenderer(b)}function k(a,b){b=new(c("KeyframesAsyncSession"))(b);return new(c("KeyframesDecodedAssetRequest"))(a,b).getAsset()}function l(a){return!!(i[a]&&i[a].isDone())}function m(){i={},h={}}g.requestRenderer=a;g.preload=d;g.load=e;g.requestRendererFromBytes=f;g.loadFromBytes=k;g.hasLoaded=l;g.clearCache=m}),98);
__d("Keyframes.react",["FBLogger","Keyframes","createCancelableFunction","promiseDone","react","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.width;a=a.height;b={width:b||0,height:a||0};return h.jsx("div",{style:b})}i.displayName=i.name+" [from "+f.id+"]";function j(a){var b=a.width;a=a.height;return h.jsx(i,{width:b,height:a})}j.displayName=j.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:!1,renderer:null},c.$6=function(a){c.setState({renderer:a,error:!1}),c.props.onLoad&&c.props.onLoad(a)},c.$7=function(a){c.setState({renderer:null,error:!0})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.seekToProgress=function(a){this.state.renderer&&this.state.renderer.seekToProgress(a)};e.componentDidMount=function(){this.$4(this.props.source)};e.componentWillUnmount=function(){this.state.renderer&&this.state.renderer.pause(),this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel()};e.componentDidUpdate=function(a,b){if(this.props.source!==a.source||this.props.projectName!==a.projectName||this.props.assetName!=null&&a.assetName!=null&&this.props.assetName!==a.assetName||a.assetID!=null&&this.props.assetID!=null&&this.props.assetID!==a.assetID)this.$4(this.props.source);else{var c=this.state.renderer;c!==b.renderer?this.$5(b.renderer,c):c&&((a.width!==this.props.width||a.height!==this.props.height)&&(c.resetDimensions(),this.props.width&&c.setWidth(this.props.width),this.props.height&&c.setHeight(this.props.height)),a.muted!==this.props.muted&&(this.props.muted?c.mute():c.unMute()),a.startAt!==this.props.startAt&&a.endAt!==this.props.endAt&&c.setStartAndEndAt(this.props.startAt,this.props.endAt),a.startAt!==this.props.startAt&&c.setStartAt(this.props.startAt),a.endAt!==this.props.endAt&&c.setEndAt(this.props.endAt),a.repeatCount!==this.props.repeatCount&&c.repeatCount(this.props.repeatCount),a.onError!==this.props.onError&&c.onError(this.props.onError),a.onRepeatEnd!==this.props.onRepeatEnd&&c.onRepeatEnd(this.props.onRepeatEnd),a.onProgress!==this.props.onProgress&&c.onProgress(this.props.onProgress),a.initialProgress!==this.props.initialProgress&&c.seekToProgress(this.props.initialProgress),a.playing!==this.props.playing&&(this.props.playing?c.play():(c.pause(),this.props.resetOnPause&&c.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress))),c.redrawIfNeeded())}};e.$5=function(a,b){if(!this.$1)return;b&&(b.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).setStartAt(this.props.startAt).setEndAt(this.props.endAt).repeatCount(this.props.repeatCount),this.props.width&&b.setWidth(this.props.width),this.props.height&&b.setHeight(this.props.height),this.props.initialProgress&&b.seekToProgress(this.props.initialProgress),this.props.muted?b.mute():b.unMute(),this.props.playing?b.play():b.pause(),b.redrawIfNeeded());a&&b?this.$1.replaceChild(b.getElement(),a.getElement()):(a&&this.$1.removeChild(a.getElement()),b&&this.$1.appendChild(b.getElement()));a=this.props.canvasRef;if(a){b=(b=b==null?void 0:b.getElement())!=null?b:null;typeof a==="function"?a(b):a.current=b}};e.$8=function(a){return a instanceof ArrayBuffer?d("Keyframes").requestRendererFromBytes(a,this.$9()):d("Keyframes").requestRenderer(a,this.$9())};e.$4=function(a){this.$2&&this.$2.cancel(),this.$3&&this.$3.cancel(),!a?this.$7():(this.$2=c("createCancelableFunction")(this.$6),this.$3=c("createCancelableFunction")(this.$7),c("promiseDone")(this.$8(a),this.$2,this.$3))};e.$9=function(){return this.props.assetID?{projectName:this.props.projectName,assetID:this.props.assetID}:{projectName:this.props.projectName,assetName:this.props.assetName||"__FIXME__missing_react_asset_name"}};e.render=function(){var a=this,b=this.props,d=b.className,e=b.height,f=b.style;b=b.width;b=this.state.renderer?null:this.state.error?this.props.errorPlaceholder||h.jsx(j,{width:b,height:e}):this.props.placeholder||h.jsx(i,{width:b,height:e});e=this.props.mutator&&this.state.renderer&&h.cloneElement(this.props.mutator,{__renderer:this.state.renderer});return h.jsxs("div",babelHelpers["extends"]({className:d},c("testID")(this.props.testid),{ref:function(b){return a.$1=b},style:babelHelpers["extends"]({display:"inline-block",lineHeight:0,fontSize:0},f),children:[b,e]}))};return b}(h.Component);a.defaultProps={initialProgress:0,resetOnPause:!1,playing:!0,repeatCount:Infinity,startAt:0,endAt:1};g["default"]=a}),98);
__d("ViewportAwareKeyframes.react",["Keyframes.react","clearTimeout","react","setTimeout","stylex","useLayoutEffect_SAFE_FOR_SSR","useVisibilityObserver","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useMemo,j=b.useRef,k=b.useState,l={root:{display:"pq6dq46d"}};function a(a){var b=a.className,d=a.delay,e=d===void 0?0:d;d=a.height;var f=a.onAnimationCancel,g=a.onAnimationStart_SAFE_FOR_SSR,m=a.onDelayEnd,n=a.onDelayStart,o=a.onRepeatEnd,p=a.playing,q=p===void 0?"onvisible":p;p=a.style;var r=a.width,s=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","delay","height","onAnimationCancel","onAnimationStart_SAFE_FOR_SSR","onDelayEnd","onDelayStart","onRepeatEnd","playing","style","width","xstyle"]);var t=k(q),u=t[0],v=t[1],w=j(!1);t=k(!1);var x=t[0],y=t[1],z=j(null),A=j(!1);t=k(!1);var B=t[0],C=t[1],D=j(0);function E(a){o&&o(a),a===0&&(w.current=!0,A.current=!1,y(!1))}function F(){z.current!==null&&(c("clearTimeout")(z.current),z.current=null)}function G(){f&&f(),D.current+=1,F()}t=c("useVisibilityObserver")({onHidden:function(a){a=a.hiddenReason;a!=="COMPONENT_UNMOUNTED"&&(C(!1),A.current=!1,w.current||G(),w.current=!1,y(!1))},onVisible:function(){C(!0)}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(B){if(x||w.current||A.current)return;e<=0?["always","onvisible"].includes(u)&&(g&&g(),y(!0)):(v("never"),n&&n(),z.current=c("setTimeout")(function(){m&&m(),g&&g(),y(!0),v(q),A.current=!0},e))}else F()},[e,x,B,g,m,n,u,q]);var H=i(function(){return c("uuid")()},[]);return h.jsx("div",{className:c("stylex")([l.root,s]),ref:t,children:h.jsx(c("Keyframes.react"),babelHelpers["extends"]({className:b,height:d,onRepeatEnd:E,playing:(u==="onvisible"||u==="always")&&x,style:p,width:r},a),H+"-"+D.current)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometAnimatedReactionIcon.react",["UFIReactionTypes","UFIReactionsKeyframesAssets","ViewportAwareKeyframes.react","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=a.animationURI,e=a.disableAnimationPlayback,f=a.reactionType,g=a.size,i=a.testid;i=a.xstyle;a=c("UFIReactionTypes").reactions[f];d=(d=d)!=null?d:c("UFIReactionsKeyframesAssets").reactions[f];if(a==null){c("recoverableViolation")("Could not render unsupported reaction type "+f+":\n        reaction icon asset not found","ufi2");return null}if(d==null){c("recoverableViolation")("Could not render unsupported reaction type "+f+":\n        reaction animation uri not found","ufi2");return null}f=c("UFIReactionsKeyframesAssets").initialProgress[f]||0;return h.jsx("div",{style:{height:g,width:g},children:h.jsx(c("ViewportAwareKeyframes.react"),{assetName:a.name,canvasRef:b,className:c("stylex")(i),height:g,initialProgress:f,playing:e===!0?"never":"onvisible",projectName:"feedback_reactions",resetOnPause:!0,source:d,testid:void 0,width:g})})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(h.forwardRef(a));g["default"]=b}),98);
__d("CometFeedVisitationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");var i=c.useContext,j=c.useMemo,k=h.createContext({feedLastVisitTime:null});function a(a){var b=a.children,c=a.feedLastVisitTime;a=j(function(){return{feedLastVisitTime:c}},[c]);return h.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i(k)}g.CometFeedVisitationContextProvider=a;g.useCometFeedVisitationContext=b}),98);
__d("CometLoggedOutCTAStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze({createNewAccountText:h._(/*FBT_CALL*/"Create New Account"/*FBT_CALL*/),emailText:h._(/*FBT_CALL*/"Email address or phone number"/*FBT_CALL*/),footerTitle:h._(/*FBT_CALL*/"Log in or sign up for Facebook to connect with friends, family and people you know."/*FBT_CALL*/),forgotPasswordText:h._(/*FBT_CALL*/"Forgotten password?"/*FBT_CALL*/),getFooterSeeMoreOfText:function(a){return h._(/*FBT_CALL*/"See more of {name-of-owner} on Facebook"/*FBT_CALL*/,[h._param("name-of-owner",a)])},passwordText:h._(/*FBT_CALL*/"Password"/*FBT_CALL*/),popupTitle:h._(/*FBT_CALL*/"See more on Facebook"/*FBT_CALL*/)});g["default"]=a}),98);
__d("CometUFIShareActionLinkLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*FBT_CALL*/"Send this to friends or post it on your Timeline."/*FBT_CALL*/);b=a;g["default"]=b}),98);
__d("CometUFIReactionLinkWithError.react",["CometUFIReactionLink.react","react","useCometUFICodedErrorDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useCometUFICodedErrorDialog")(),d=b.errorDialog;b=b.setError;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometUFIReactionLink.react"),babelHelpers["extends"]({},a,{onReactionError:b})),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometUnhideToastMessage",["fbt","ix","TetraIcon.react","cometPushToast","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b={action:{label:h._(/*FBT_CALL*/"Undo"/*FBT_CALL*/),onPress:function(){return a()}},icon:j.jsx(c("TetraIcon.react"),{icon:d("fbicon")._(i("2020"),20)}),message:h._(/*FBT_CALL*/"Comment unhidden"/*FBT_CALL*/),supressCloseButton:!0},e=function(){d("cometPushToast").cometPushToast(b)};return e}g["default"]=a}),98);
__d("formatLanguageCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a.replace("_","-").replace("-XX",""):void 0}f["default"]=a}),66);
__d("CometUFIStarsPopoverContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react").createContext;b=a({setStarsShowerData:function(a){},setUFIStarsPopoverEntrypoint:function(a){},setUFIStarsPopoverShouldShowEducationCards:function(a){},setUFIStarsPopoverShowPurchaseCard:function(a){},starsShowerData:null,ufiStarsPopoverEntrypoint:"comet_star_flyout",ufiStarsPopoverRef:{current:null},ufiStarsPopoverShouldShowEducationCards:!1,ufiStarsPopoverShowPurchaseCard:!1});g["default"]=b}),98);
__d("NumberFormat",["NumberFormatConfig","intlNumUtils"],(function(a,b,c,d,e,f,g){var h=/(\d{3})(?=\d)/g;function i(a){return(""+a).split("").reverse().join("")}function a(a,b){if(Math.abs(a).toString().length<c("NumberFormatConfig").minDigitsForThousandsSeparator)return a.toString();a=i(""+a);return i(a.replace(h,"$1"+b))}function b(a){return d("intlNumUtils").formatNumberWithThousandDelimiters(a)}g.formatIntegerWithDelimiter=a;g.formatInteger=b}),98);
__d("injectSubscriptionsHandler.react",["SubscriptionsHandler","getReactComponentDisplayName","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){var b,d,e=c("getReactComponentDisplayName")(a);return d=b=function(b){babelHelpers.inheritsLoose(d,b);function d(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=b.call.apply(b,[this].concat(f))||this,d.state={subscriptionsHandler:new(c("SubscriptionsHandler"))()},a)||babelHelpers.assertThisInitialized(d)}var e=d.prototype;e.componentWillUnmount=function(){this.state.subscriptionsHandler.release()};e.render=function(){return h.jsx(a,babelHelpers["extends"]({},this.props,{subscriptionsHandler:this.state.subscriptionsHandler}))};return d}(h.Component),b.displayName="injectSubscriptionsHandler("+e+")",d}g["default"]=a}),98);
__d("UFI2PrivateReplyIndicator.react",["fbt","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("span",{className:a.className,children:h._(/*FBT_CALL*/"Page responded privately"/*FBT_CALL*/)})}a.displayName=a.name+" [from "+f.id+"]";a.shouldRender=function(a){return a==="ALREADY_REPLIED"};b=a;g["default"]=b}),98);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f,g){"use strict";var h=14,i=3;function a(a){if(!a||a.length>h*i)return!1;var b=d("EmojiRenderer").parse(a);if(!b)return!1;var c=0;b.forEach(function(a){c+=a.length});return a.length==c&&b.length<=i}g["default"]=a}),98);
__d("CometUFICommentMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7278728692144670"}),null);/*FB_PKG_DELIM*/
__d("GraphQLGender",["GenderConst","IntlVariations"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.toIntlVariationsEnum=function(){var a=this.$1;if(a==null)return c("IntlVariations").GENDER_UNKNOWN;switch(a){case"MALE":return c("IntlVariations").GENDER_MALE;case"FEMALE":return c("IntlVariations").GENDER_FEMALE;default:return c("IntlVariations").GENDER_UNKNOWN}};b.toGenderConstEnum=function(){var a=this.$1,b=this.$2||{},d=b.isPlural||!1;b=b.isGuess||!1;switch(a){case"MALE":return d?c("GenderConst").MALE_PLURAL:b?c("GenderConst").MALE_SINGULAR_GUESS:c("GenderConst").MALE_SINGULAR;case"FEMALE":return d?c("GenderConst").FEMALE_PLURAL:b?c("GenderConst").FEMALE_SINGULAR_GUESS:c("GenderConst").FEMALE_SINGULAR;case"NEUTER":return d?c("GenderConst").NEUTER_PLURAL:c("GenderConst").NEUTER_SINGULAR;default:return d?c("GenderConst").UNKNOWN_PLURAL:c("GenderConst").UNKNOWN_SINGULAR}};a.fromGenderConstEnum=function(b){switch(b){case c("GenderConst").FEMALE_SINGULAR:return new a("FEMALE");case c("GenderConst").MALE_SINGULAR:return new a("MALE");case c("GenderConst").FEMALE_SINGULAR_GUESS:return new a("FEMALE",{isGuess:!0});case c("GenderConst").MALE_SINGULAR_GUESS:return new a("MALE",{isGuess:!0});case c("GenderConst").NEUTER_SINGULAR:return new a("NEUTER");case c("GenderConst").UNKNOWN_SINGULAR:return new a("UNKNOWN");case c("GenderConst").FEMALE_PLURAL:return new a("FEMALE",{isPlural:!0});case c("GenderConst").MALE_PLURAL:return new a("MALE",{isPlural:!0});case c("GenderConst").NEUTER_PLURAL:return new a("NEUTER",{isPlural:!0});case c("GenderConst").UNKNOWN_PLURAL:return new a("UNKNOWN",{isPlural:!0});default:return new a("UNKNOWN")}};return a}();g["default"]=a}),98);